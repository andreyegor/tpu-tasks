# [Калькулятор](https://docs.google.com/document/d/1C29EPKtDffHIcogheTF3mYn9tNQuFvubj1A--zXTbxA)

## Функционал

Пусть это будет обычный калькулятор. Чтобы обойти определенные проблемы с вычислениями позволим себе опустить деление, останется следующий набор обязательных функций:

* сложение
* вычитание
* умножение
* степень
* корень
* скобки

Калькулятор должен позволять вводить длинное выражение с участием скобок, и высчитывать результат с учетом правильного порядка выполнения операции (унарные операторы вперед бинарных, умножение вперед сложения и т.п.)

Промежуточный результат высчитывается после каждого нажатия, если это возможно. Если невозможно - поле с промежуточным результатом пустое.

Ввод поддерживаем только кликом мышкой по кнопкой, клавиатуру не поддерживаем.

Дополнительные баллы можно заработать, если добавить:

- [ ] Поддержка деления (3 балла). Придется научиться работать с погрешностями, неопределенностями и т.п.
- [ ] Поддержка дополнительных операций (0-3 балла). Логарифмы, тригонометрия и т.д. и т.п.. В зависимости от сложности операторов и их количества
- [ ] Ячейки памяти (1-4 балла). Часто “настольные” калькуляторы умеют запоминать числа в особые ячейки памяти и позволяют потом использовать записанные в них числа в последующих вычислениях. Правда мало кто умеет ими пользоваться. Можно воспроизвести систему хранения по образу настольных калькуляторов, или придумать какую-то свою систему.
- [ ] Поддержать ввод с клавиатуры (2 балла). Фильтруем входящие символы, ввод допускаем даже если в фокусе не поле для ввода

Организация кода

Создайте универсальный инструмент для вычислений. Выделите запись выражения в отдельный формат данных, который позволит легко его валидировать, вычислять и модифицировать. Хранение простой строкой не подойдет, придумайте или найдите решение поинтереснее. Этот инструмент должен быть полностью независим от визуальной части.

Придерживаемся MVC/MVP, разделяем логику и представление. Вычисления происходят в вашем формате записи выражений, а контроллеры/презентеры согласуют хранимое выражение с действиями пользователя.

Не останавливайтесь на одном контроллере/презентере и одном виджете. Разделяйте логику и позвольте контроллерам взаимодействовать друг с другом.

Раскидайте код по пакетам, чтобы в проекте было проще ориентироваться.

Чеклист
- [X] Используется JavaFX
- [X] Приложение функционально. Запускается, кнопки кликаются, результаты верны
- [X] Поддерживаются все обязательный вычислительные операции
- [X] При вычислениях используется верный порядок операций
- [X] Промежуточное значение пересчитывается после каждого “клика”
- [X] Выражение хранится в своем формате данных, удобным для вычислений
- [X] Код очень старается соответствовать MVC/MVP.
- [X] Все классы не свалены в один пакет, а логично распределены по нескольким
- [X] Не существует “God object”-а - большого класса с кучей разных ответственностей. Логика разнесена по нескольким классам, экран приложение представлен несколькими виджетами
